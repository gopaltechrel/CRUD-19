<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRUD Multiple Views</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container mt-5">
  <h2 class="text-center mb-4 animate__animated animate__fadeInDown">CRUD â€“ Multiple Views ðŸŒŸ</h2>
  
  <!-- View Toggle Buttons -->
  <div class="text-center mb-4">
    <button class="btn btn-outline-light me-2" onclick="showTableView()">Table View</button>
    <button class="btn btn-outline-light" onclick="showCardView()">Card View</button>
  </div>

  <!-- Form (Inline) -->
  <div class="card p-4 mb-4 animate__animated animate__fadeInUp">
    <div class="row g-3">
      <div class="col-md-4">
        <input type="text" id="name" class="form-control" placeholder="Name">
      </div>
      <div class="col-md-4">
        <input type="email" id="email" class="form-control" placeholder="Email">
      </div>
      <div class="col-md-4 d-grid">
        <button id="addBtn" class="btn btn-primary">Add User</button>
      </div>
    </div>
  </div>

  <!-- Table View -->
  <div class="table-responsive animate__animated animate__fadeIn" id="tableView">
    <table class="table table-striped table-hover text-center align-middle">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="userTable"></tbody>
    </table>
  </div>

  <!-- Card View -->
  <div class="row g-3 animate__animated animate__fadeIn" id="cardView" style="display: none;">
    <!-- Cards will be injected here -->
  </div>
</div>

<script src="script.js"></script>
</body>
</html>

<style>
  body {
    background: linear-gradient(to right, #6a11cb, #2575fc);
    min-height: 100vh;
    font-family: 'Arial', sans-serif;
    color: #fff;
}

.card, .card-body {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    backdrop-filter: blur(10px);
}

button {
    transition: all 0.3s ease;
}

button:hover {
    transform: scale(1.05);
}

</style>

<script>
let users = [];
let editIndex = null;

const nameInput = document.getElementById("name");
const emailInput = document.getElementById("email");
const addBtn = document.getElementById("addBtn");
const userTable = document.getElementById("userTable");
const tableView = document.getElementById("tableView");
const cardView = document.getElementById("cardView");

function renderTable() {
    userTable.innerHTML = "";
    users.forEach((user, index) => {
        userTable.innerHTML += `
        <tr class="animate__animated animate__fadeIn">
            <td>${index + 1}</td>
            <td>${user.name}</td>
            <td>${user.email}</td>
            <td>
                <button class="btn btn-sm btn-warning me-2" onclick="editUser(${index})">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="deleteUser(${index})">Delete</button>
            </td>
        </tr>
        `;
    });
}

function renderCards() {
    cardView.innerHTML = "";
    users.forEach((user, index) => {
        cardView.innerHTML += `
        <div class="col-md-4 animate__animated animate__fadeInUp">
            <div class="card p-3">
                <h5>${user.name}</h5>
                <p>${user.email}</p>
                <div>
                    <button class="btn btn-sm btn-warning me-2" onclick="editUser(${index})">Edit</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteUser(${index})">Delete</button>
                </div>
            </div>
        </div>
        `;
    });
}

function clearForm() {
    nameInput.value = "";
    emailInput.value = "";
    addBtn.textContent = "Add User";
    editIndex = null;
}

addBtn.addEventListener("click", () => {
    const name = nameInput.value.trim();
    const email = emailInput.value.trim();

    if(name === "" || email === "") {
        alert("Please enter both name and email!");
        return;
    }

    if(editIndex === null) {
        users.push({name, email});
    } else {
        users[editIndex] = {name, email};
    }

    renderTable();
    renderCards();
    clearForm();
});

function editUser(index) {
    const user = users[index];
    nameInput.value = user.name;
    emailInput.value = user.email;
    addBtn.textContent = "Update User";
    editIndex = index;
}

function deleteUser(index) {
    if(confirm("Are you sure you want to delete this user?")) {
        users.splice(index, 1);
        renderTable();
        renderCards();
    }
}

// Switch Views
function showTableView() {
    tableView.style.display = "block";
    cardView.style.display = "none";
}

function showCardView() {
    tableView.style.display = "none";
    cardView.style.display = "flex";
    cardView.classList.add("animate__animated", "animate__fadeIn");
}
  
</script>


